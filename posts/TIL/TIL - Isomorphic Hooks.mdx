---
title: Isomorphic Hooks
description: Isomorphic 방법론에 대해서 알아본다
tags:
  - TIL
createdAt: 2024-04-01
thumbnail: /thumbnails/til.png
draft: true
---
## What I Learned

### 서론

Next.js 환경에서 개발을 하다 보면 자주 보게 되는 에러 문구가 있다.

> window is not defined

바로 Server component를 사용할 때, 서버 환경에서는 window가 없기 때문에 나타나는 에러이다. 그럴 때, 간단하게 해결하는 방법으로는 typeof window === 'undefined' 등으로 판단하는 법이 있지만, 이런 부분을 매번 쓰기보다는 공통화해서 쓰는것이 낫다.


### 본론

Isomorphic이란 '동형사상'이라는 뜻으로, 이곳에서는 *서버와 브라우저 양쪽에서 실행가능한* 것을 의미한다.

옛날에는 그럴 일이 없었지만, 프론트엔드 환경이 변하며 중요성이 높아진 케이스다.

환경에 따라 사용할 수 있는 API가 다르기 때문에, 양쪽의 환경에서 구동하는 것을 고려해야 하는 것이다. 예시로는 아래와 같다.

|API|서버 (Node.js)|브라우저|
|---|---|---|
|window|X|O|
|document|X|O|
|localStorage|X|O|
|fs (파일시스템)|O|X|
|process|O|X|
|console|O|O|
|fetch|O (Node 18+)|O|

## 구현

예를 들어, 


## 참고 자료

- 참고한 자료가 있다면 링크를 남겨두는 것이 좋겠지.
